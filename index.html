<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bharat Buzz | Discover Indian Facts</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #FF6B6B; /* Vibrant Indian Red */
            --background-light: #F0F2F5; /* Light Lavender/Blue-ish background like screenshot */
            --card-radius: 10px;
            --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        body {
            background-color: var(--background-light);
            font-family: 'Roboto', sans-serif;
        }
        /* Mobile-First Max Width Constraint */
        .app-container {
            max-width: 660px;
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.08);
            padding-bottom: 60px; /* Space for Bottom Nav */
        }
        .header-section {
            background-color: white;
            border-bottom: 1px solid #eee;
            padding: 15px 15px;
            position: sticky;
            top: 0;
            z-index: 1020;
        }
        .header-section h1 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--secondary-color, #3A3A3A);
        }
        .grid-section {
            padding: 15px;
        }
        /* New Card Style based on Screenshot */
        .category-card {
            border-radius: var(--card-radius);
            box-shadow: var(--shadow-soft);
            text-decoration: none;
            color: var(--secondary-color, #3A3A3A);
            background-color: white;
            display: flex;
            padding:0px;
            flex-direction: column;
            overflow: hidden;
            transition: transform 0.2s;
            height: 140px; /* Fixed height for uniform look */
        }
        .card-image-wrapper {
            height: 70%;
            padding: 10px 10px 0px 10px;
            overflow: ;
            background-color: ; /* Placeholder background */
        }
        .card-image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 6px;
        }
        .card-title {
            height: 30%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.95em;
            text-align: center;
            padding: 0 5px;
        }

    </style>
</head>
<body>

    <main class="app-container">
        
        <header class="header-section">
            <nav class="container-fluid d-flex justify-content-between align-items-center p-0">
                <h1 class="mb-0" id="appTitle"> Bharat Buzz </h1>
                <button class="btn btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#languageModal" aria-controls="languageModal" style="background-color: #f5f5f5; color: #3A3A3A; border-radius: 8px;">
                    üåê <span id="currentLangDisplay">EN</span>
                </button>
                
            </nav>
        </header>

        <section class="grid-section">
            
            <div class="row row-cols-2 g-3" id="categoryGrid">
           </div>
            
        </section>

    </main>
    
    <div class="modal fade" id="languageModal" tabindex="-1" aria-labelledby="languageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="languageModalLabel">‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="list-group">
                        <button type="button" class="list-group-item list-group-item-action lang-select" data-lang="en">English</button>
                        <button type="button" class="list-group-item list-group-item-action lang-select" data-lang="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</button>
                        <button type="button" class="list-group-item list-group-item-action lang-select" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // --- 1. JSON CONTENT DATA ---
        const contentData = {
            'bn': {
                appTitle: '‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶§‡¶•‡ßç‡¶Ø',
                modalTitle: '‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®',
                categories: [
                    { title: '‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶ì ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø', imageId: 1018, href: 'history.html' },
                    { title: '‡¶Ü‡¶û‡ßç‡¶ö‡¶≤‡¶ø‡¶ï ‡¶≠‡ßÇ‡¶ó‡ßã‡¶≤', imageId: 1043, href: 'geography.html' },
                    { title: '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶ì ‡¶â‡¶¶‡ßç‡¶≠‡¶æ‡¶¨‡¶®', imageId: 1074, href: 'science.html' },
                    { title: '‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø ‡¶ì ‡¶∂‡¶ø‡¶≤‡ßç‡¶™‡¶ï‡¶≤‡¶æ', imageId: 1060, href: 'culture.html' },
                    { title: '‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ì ‡¶∞‡¶®‡ßç‡¶ß‡¶®‡¶™‡ßç‡¶∞‡¶£‡¶æ‡¶≤‡ßÄ', imageId: 1084, href: 'cuisine.html' },
                    { title: '‡¶ñ‡ßá‡¶≤‡¶æ‡¶ß‡ßÅ‡¶≤‡¶æ ‡¶ì ‡¶Ö‡¶∞‡ßç‡¶ú‡¶®', imageId: 1076, href: 'sports.html' },
                    { title: '‡¶¶‡ßà‡¶®‡¶®‡ßç‡¶¶‡¶ø‡¶® ‡¶ú‡ßÄ‡¶¨‡¶®', imageId: 1005, href: 'life.html' },
                    { title: '‡¶Æ‡¶ø‡¶• ‡¶¨‡¶®‡¶æ‡¶Æ ‡¶∞‡¶ø‡ßü‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø', imageId: 1062, href: 'myth.html' }
                ]
            },
            'hi': {
                appTitle: '‡§¶‡•à‡§®‡§ø‡§ï ‡§§‡§•‡•ç‡§Ø',
                modalTitle: '‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç',
                categories: [
                    { title: '‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§î‡§∞ ‡§µ‡§ø‡§∞‡§æ‡§∏‡§§', imageId: 1018, href: 'history.html' },
                    { title: '‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•Ä‡§Ø ‡§≠‡•Ç‡§ó‡•ã‡§≤', imageId: 1043, href: 'geography.html' },
                    { title: '‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® ‡§î‡§∞ ‡§®‡§µ‡§æ‡§ö‡§æ‡§∞', imageId: 1074, href: 'science.html' },
                    { title: '‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§ø ‡§î‡§∞ ‡§ï‡§≤‡§æ', imageId: 1060, href: 'culture.html' },
                    { title: '‡§≠‡•ã‡§ú‡§® ‡§î‡§∞ ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§®', imageId: 1084, href: 'cuisine.html' },
                    { title: '‡§ñ‡•á‡§≤ ‡§î‡§∞ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§ø‡§Ø‡§æ‡§Å', imageId: 1076, href: 'sports.html' },
                    { title: '‡§∞‡•ã‡§ú‡§Æ‡§∞‡•ç‡§∞‡§æ ‡§ï‡•Ä ‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä', imageId: 1005, href: 'life.html' },
                    { title: '‡§Æ‡§ø‡§•‡§ï ‡§¨‡§®‡§æ‡§Æ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï‡§§‡§æ', imageId: 1062, href: 'myth.html' }
                ]
            },
            'en': {
                appTitle: 'Bharat Buzz',
                modalTitle: 'Select Content Language',
                categories: [
                    { title: 'History & Heritage', imageId: 1018, href: 'history.html' },
                    { title: 'Regional Geography', imageId: 1043, href: 'geography.html' },
                    { title: 'Science & Innovation', imageId: 1074, href: 'science.html' },
                    { title: 'Culture & Arts', imageId: 1060, href: 'culture.html' },
                    { title: 'Food & Cuisine', imageId: 1084, href: 'cuisine.html' },
                    { title: 'Sports & Achievements', imageId: 1076, href: 'sports.html' },
                    { title: 'Daily Life', imageId: 1005, href: 'life.html' },
                    { title: 'Myth vs. Reality', imageId: 1062, href: 'myth.html' }
                ]
            }
        };

        // --- 2. LANGUAGE MANAGEMENT FUNCTIONS ---
        const defaultLang = 'en'; // Default language is English
        let currentLang = localStorage.getItem('appLang') || defaultLang;

        function updateUI(lang) {
            const data = contentData[lang];
            
            // 1. Update Header and Titles
            document.getElementById('appTitle').textContent = data.appTitle;
            document.getElementById('languageModalLabel').textContent = data.modalTitle;
            document.getElementById('currentLangDisplay').textContent = lang.toUpperCase(); // Display EN, BN, HI
            document.documentElement.lang = lang; // Update HTML lang attribute

            // 2. Clear and Render Category Cards
            const grid = document.getElementById('categoryGrid');
            grid.innerHTML = ''; // Clear existing cards
            
            data.categories.forEach(cat => {
                const card = document.createElement('div');
                card.className = 'col';
                // Using 400x400 for a square look as in the screenshot
                const imageUrl = `https://picsum.photos/id/${cat.imageId}/400/400`; 
                card.innerHTML = `
                    <a href="${cat.href}" class="category-card shadow-sm">
                        <div class="card-image-wrapper">
                            <img src="${imageUrl}" alt="${cat.title}">
                        </div>
                        <div class="card-title">${cat.title}</div>
                    </a>
                `;
                grid.appendChild(card);
            });
            
            // 3. Highlight selected language in modal
            document.querySelectorAll('.lang-select').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === lang) {
                    btn.classList.add('active');
                }
            });
        }

        function handleLangChange(event) {
            const newLang = event.target.dataset.lang;
            if (newLang) {
                currentLang = newLang;
                localStorage.setItem('appLang', newLang); // Save to LocalStorage
                updateUI(newLang);
                
                // Close Modal after selection
                const modalElement = document.getElementById('languageModal');
                const modal = bootstrap.Modal.getInstance(modalElement);
                if (modal) {
                    modal.hide();
                }
            }
        }

        // --- 3. EVENT LISTENERS AND INITIAL LOAD ---
        document.addEventListener('DOMContentLoaded', () => {
            // Initial UI load based on currentLang (from localStorage or default)
            updateUI(currentLang); 

            // Add listener to all language buttons in the Modal
            document.querySelectorAll('.lang-select').forEach(button => {
                button.addEventListener('click', handleLangChange);
            });
        });
    </script>
</body>
</html>
